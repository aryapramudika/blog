[{"content":"Pacemaker \u0026amp; Corosync is popular stack for High Avaibility on Linux Servers, since 2004.\nPacemaker is a high-availability cluster resource manager – software that runs on a set of hosts (a cluster of nodes) in order to preserve btegrity and minimize downtime of desired services (resources).\nCorosync is open source group communication system that provides ordered communication delivery, cluster membership, quorum enforcement, and other features among the nodes, it helps detect component failures and orchestrate necessary failover procedures to minimize interruptions to applications.\nYou can read complete documentation in here:\nhttps://en.wikipedia.org/wiki/Pacemaker_(software)#:~:text=Pacemaker%20is%20an%20open%2Dsource,to%20be%20its%20own%20project.\nhttps://clusterlabs.org/pacemaker/doc/2.1/Clusters_from_Scratch/html/intro.html\nhttps://www.ibm.com/docs/en/db2/11.5?topic=software-pacemaker-linux\nPresetup I use AlmaLinux 9 with 2 nodes for this tutorial.\nSetup Date Configure on both server to sync/get same date:\nExample for Asia/Jakarta timezone\ntimedatectl set-timezone Asia/Jakarta Enable NTP:\ntimedatectl set-ntp true Setup Hostname Setup on 2 nodes:\nNodes1:\nhostnamectl set-hostname pace1 Nodes2:\nhostnamectl set-hostname pace2 Setup Fully Qualified Domain Name on both nodes:\nvim /etc/hosts 10.1.1.123 pace1.pram.lab pace1 10.1.1.124 pace2.pram.lab pace2 Testing ping from node1 to node2:\nping -c2 pace2 PING pace2.pram.lab (10.1.1.124) 56(84) bytes of data. 64 bytes from pace2.pram.lab (10.1.1.124): icmp_seq=1 ttl=64 time=0.197 ms 64 bytes from pace2.pram.lab (10.1.1.124): icmp_seq=2 ttl=64 time=0.268 ms Testing ping from node2 to node1:\nping -c2 pace1 PING pace1.pram.lab (10.1.1.123) 56(84) bytes of data. 64 bytes from pace1.pram.lab (10.1.1.123): icmp_seq=1 ttl=64 time=0.345 ms 64 bytes from pace1.pram.lab (10.1.1.123): icmp_seq=2 ttl=64 time=0.377 ms Setup Passwordless SSH If you perform action to transfer files and running remote command to another nodes\nIn Nodes1:\nssh-keygen -t ed25519 -f ~/.ssh/pace Copy to another nodes, Nodes2:\nssh-copy-id ~/.ssh/pace.pub root@pace2 Testing\nssh -i ~/.ssh/pace pace2 \u0026#34;cat /etc/hostname\u0026#34; pace2 Install all packages On both nodes:\nEnable and activate High Availability repo\ndnf config-manager --set-enabled highavailability Install package\ndnf install -y pacemaker pcs psmisc policycoreutils-python3 Add services in firewall (if used)\nfirewall-cmd --add-service=high-availability --permanent firewall-cmd --reload Setup Cluster On both nodes:\nEnable pcs daemon for command-line interface to manage corosync configuration , and other function.\nsystemctl enable --now pcsd Change hacluster user password, the installed package will create an hacluster user. We must set the password because to running command locally on both nodes for perform such tasks as start/stop cluster and many more.\npasswd hacluster You can set same password on both nodes\nConfigure corosync In Nodes1:\npcs host auth pace1 pace2 Output:\nUsername: hacluster Password: insertyourpassword pace2: Authorized pace1: Authorized Create cluster:\npcs cluster setup pram-cluster pace1 pace2 Start cluster:\npcs cluster start --all Verify cluster:\npcs status Cluster name: pram-cluster Status of pacemakerd: \u0026#39;Pacemaker is running\u0026#39; (last updated 2023-09-22 22:26:53 +07:00) Cluster Summary: * Stack: corosync * Current DC: pace2 (version 2.1.5-9.el9_2.3.alma.1-a3f44794f94) - partition with quorum * Last updated: Fri Sep 22 22:26:54 2023 * Last change: Fri Sep 22 21:10:51 2023 by root via cibadmin on pace1 * 2 nodes configured * 1 resource instance configured Node List: * Online: [ pace1 pace2 ] Daemon Status: corosync: active/disabled pacemaker: active/disabled pcsd: active/enabled Done, you have successfully created a cluster with pacemaker, corosync , and pcs.\nSee you in next tutorial about pacemaker.\n","permalink":"https://aryapramudika.com/blog/pacemaker/install/","summary":"Pacemaker \u0026amp; Corosync is popular stack for High Avaibility on Linux Servers, since 2004.\nPacemaker is a high-availability cluster resource manager – software that runs on a set of hosts (a cluster of nodes) in order to preserve btegrity and minimize downtime of desired services (resources).\nCorosync is open source group communication system that provides ordered communication delivery, cluster membership, quorum enforcement, and other features among the nodes, it helps detect component failures and orchestrate necessary failover procedures to minimize interruptions to applications.","title":"Install \u0026 Build Cluster with Pacemaker, Corosync, pcs on Centos/Alma/RHEL 9"},{"content":"Installasi Debian 10 Minimal Server Latar Belakang Masalah Saya sedang belajar tentang debian server, terutama debian CLI. Saya sering lupa konfigurasi awal saat installasi debian untuk itu saya membuat tulisan ini.\nTujuan Tujuan saya menulis ini yaitu sebagai catatan belajar, jika saya lupa sesuatu maka saya bisa membaca tulisan ini.\nPersyaratan Untuk persyaratan installasi yaitu:\nMempunyai koneksi Internet untuk mendownload iso CD/DVD Debian 10.\nPerangkat Laptop/PC bisa juga Virtual seperti VirtualBox/VMWare\nUntuk Laptop/PC membutuhkan flashdisk sebagai bootable minimal 8GB.\nRAM 512 MB\nPenyimpanan 2GB\nMembuat bootable pada flashdisk Untuk installasi pada laptop/PC yang harus dilakukan pertama kali adalah membuat bootable di flashdisk.\nUntuk membuat bootable saya menggunakan software balenaEtcher bisa di download di https://www.balena.io/etcher/\nPertama buka balenaEtcher lalu klik Flash from file\nKedua pilih file iso Debian 10\nKetiga klik Select Target\nKe-empat pilih flashdisk yang dijadikan bootable\nTerakhir klik Flash, lalu tunggu sampai selesai\nPembuatan bootable berhasil\nInstallasi Untuk penginstallan di PC/Laptop silahkan boot terlebih dahulu ke USB Bootable.\nDisini saya melakukan penginstallan di VirtualMachine.\nLangsung saja..\n1. Pilih Metode Installasi Disini saya menggunakan mode Install CLI, kalian bisa memilih menggunakan GUI kalau dirasa menggunakan CLI kurang nyaman.\n2. Pilih Bahasa Disini saya memilih bahasa Inggris\n3. Pilih Country/Negara Karena country Indonesia tidak ada di pilihan maka kita pilih Other\n4. Pilih Continent/Region Kita pilih Asia\nLalu kita pilih Indonesia\n5. Konfigurasi Locale Kita pilih United States\n6. Konfigurasi Keymap Keyboard Kita pilih American English\n7. Konfigurasi Hostname Silahkan isi sesuai keinginan\n8. Konfigurasi Password Root Isi password sesuai keinginan\n9. Konfigurasi User Baru Isi sesuai keinginan\n10. Konfigurasi Password untuk User Baru Isi password sesuai keinginan\nMasukkan password ulang\n11.Konfigurasi Waktu Sesuaikan dengan waktu wilayah masing-masing, karena saya WIB maka saya memilih Western(Sumatra, Jakarta, Java, West and Central Kalimantan)\n12. Konfigurasi Partisi Pilih Guided Entire Disk\nSetelah itu pilih penyimpanan\nLalu pada Partitioning Scheme kita pilih, All files in one partition\nWrite Change to Disk? kita pilih yes\n13. Menunggu Installasi Base System 14. Konfigurasi Packet Manager Scan another CD or DVD?\nPilih No\nUntuk konfigurasi mirrorlist pilih Indonesia\nLalu kita pilih salah satu, misal kartolo.sby.datautama.net.id\nPada HTTP Proxy kita kosongkan\n15. Konfigurasi Popularity Contest Participate in package usage survey?, kita pilih No\n16. Konfigurasi software Pada menu Choose Software to Install hanya kita centang pada SSH Server dan standard system utilities\nLalu kita tunggu installasi software selesai\n17. Konfigurasi Boot-loader Install the GRUB boot loader to the master boot record? kita pilih Yes\nLalu kita pilih partisi yang kita buat tadi\nLalu kita tunggu dan installasi selesai..\nSemoga membantu!!\n","permalink":"https://aryapramudika.com/blog/installasi-debian10-minimal-server/","summary":"Installasi Debian 10 Minimal Server Latar Belakang Masalah Saya sedang belajar tentang debian server, terutama debian CLI. Saya sering lupa konfigurasi awal saat installasi debian untuk itu saya membuat tulisan ini.\nTujuan Tujuan saya menulis ini yaitu sebagai catatan belajar, jika saya lupa sesuatu maka saya bisa membaca tulisan ini.\nPersyaratan Untuk persyaratan installasi yaitu:\nMempunyai koneksi Internet untuk mendownload iso CD/DVD Debian 10.\nPerangkat Laptop/PC bisa juga Virtual seperti VirtualBox/VMWare","title":"Installasi Debian 10 Minimal Server"}]